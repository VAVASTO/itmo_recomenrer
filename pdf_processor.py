#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
PDF processor for extracting text from ITMO curriculum PDFs
"""

import os
import json
from typing import Dict, List, Optional

class PDFProcessor:
    """Class for processing ITMO curriculum PDFs"""
    
    def __init__(self, pdf_dir: str = "."):
        self.pdf_dir = pdf_dir
        self.curriculum_data = {}
        self._load_curriculum_data()
    
    def _load_curriculum_data(self):
        """Load curriculum data from PDF files and JSON files"""
        # Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ json_program_data Ð¿ÐµÑ€ÐµÐ´ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¾Ð¹
        self.json_program_data = {}
        
        # Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· JSON Ñ„Ð°Ð¹Ð»Ð¾Ð²
        self._load_json_program_data()
        
        # Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· PDF "Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð˜Ð˜-Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð°Ð¼Ð¸"
        ai_product_curriculum = {
            "Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð˜Ð˜-Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð°Ð¼Ð¸/AI Product",
            "Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ": "ÐœÐ°Ð³Ð¸ÑÑ‚ÐµÑ€ÑÐºÐ°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð¿Ð¾ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸ÑŽ Ð˜Ð˜-Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð°Ð¼Ð¸",
            "Ð±Ð»Ð¾ÐºÐ¸": {
                "Ð‘Ð»Ð¾Ðº 1. ÐœÐ¾Ð´ÑƒÐ»Ð¸ (Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹)": {
                    "Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ð·Ðµ": 72,
                    "Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ñ‡Ð°Ñ": 2592,
                    "Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ_Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹_1_ÑÐµÐ¼ÐµÑÑ‚Ñ€": [
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð²Ñ‹Ðµ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð’Ð¾Ñ€ÐºÑˆÐ¾Ð¿ Ð¿Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸ÑŽ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð° Ð½Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… / Data Product Development Workshop", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1}
                    ],
                    "Ð²Ñ‹Ð±Ð¾Ñ€Ð½Ñ‹Ðµ_Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹_1_ÑÐµÐ¼ÐµÑÑ‚Ñ€": [
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ñ†ÐµÑÑÑ‹ Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð»Ð¾Ð³Ð¸Ð¸ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ð˜Ð˜", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐœÐ¾Ð½ÐµÑ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð˜Ð˜-Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð²", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð¡Ñ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð²Ñ‹Ð¹ Ð¼ÐµÐ½ÐµÐ´Ð¶Ð¼ÐµÐ½Ñ‚", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð²Ñ‹Ð¹ Ð´Ð¸Ð·Ð°Ð¹Ð½ Ð¸ Ð¿Ñ€Ð¾Ñ‚Ð¾Ñ‚Ð¸Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ AI-Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ° Ð´Ð»Ñ Ð¼Ð°ÑˆÐ¸Ð½Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¸ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐžÑÐ½Ð¾Ð²Ñ‹ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð½Ð° Python", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐžÑÐ½Ð¾Ð²Ñ‹ Ð¼Ð°ÑˆÐ¸Ð½Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐžÑÐ½Ð¾Ð²Ñ‹ Ð³Ð»ÑƒÐ±Ð¾ÐºÐ¾Ð³Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð’Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð² Ð±Ð¾Ð»ÑŒÑˆÐ¸Ðµ ÑÐ·Ñ‹ÐºÐ¾Ð²Ñ‹Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸ (LLM)", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´Ð½Ð¾Ð¹ Ð°Ð½Ð°Ð»Ð¸Ð· Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ñ€ÑÐ´Ð¾Ð²", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð˜Ð½Ð¶ÐµÐ½ÐµÑ€Ð½Ñ‹Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸ Ð² ML Ð¸ Ð°Ð½Ð°Ð»Ð¸Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´Ð½Ñ‹Ðµ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð²ÐµÐ±-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹ (Python Backend)", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¼Ð¸ÐºÑ€Ð¾ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1}
                    ],
                    "Ð²Ñ‹Ð±Ð¾Ñ€Ð½Ñ‹Ðµ_Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹_2_ÑÐµÐ¼ÐµÑÑ‚Ñ€": [
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð‘Ð¸Ð·Ð½ÐµÑ-Ð°Ð½Ð°Ð»Ð¸Ð·", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ¸ Ð¼ÐµÐ½Ñ‚Ð¾Ñ€ÑÑ‚Ð²Ð° Ð¸ Ñ€Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ñ Ð² Data Science", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ð¼Ð¸ Ð² Data Science", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐœÐµÑ‚Ñ€Ð¸ÐºÐ¸ Ð¸ Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ° Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð°", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð²Ñ‹Ð¼ Ð¿Ð¾Ñ€Ñ‚Ñ„ÐµÐ»ÐµÐ¼", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐžÑÐ½Ð¾Ð²Ñ‹ Ð¼Ð°Ñ€ÐºÐµÑ‚Ð¸Ð½Ð³Ð° Ð´Ð»Ñ Ð˜Ð˜-Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð²", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°Ð¼Ð¸ Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ð¼Ð¸ Ð² Ð˜Ð˜", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð¤Ð°Ð½Ð´Ñ€Ð°Ð¹Ð·Ð¸Ð½Ð³ Ð¸ Ð±Ð¸Ð·Ð½ÐµÑ-Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð˜Ð½Ð¶ÐµÐ½ÐµÑ€Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð½Ð° Python (Ð¿Ñ€Ð¾Ð´Ð²Ð¸Ð½ÑƒÑ‚Ñ‹Ð¹ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ)", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´Ð½Ñ‹Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð¼Ð°ÑˆÐ¸Ð½Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð² Ñ„Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ð¾Ð¼ ÑÐµÐºÑ‚Ð¾Ñ€Ðµ", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð¤Ð¸Ð½Ð°Ð½ÑÐ¾Ð²Ñ‹Ðµ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð“Ð»ÑƒÐ±Ð¾ÐºÐ¾Ðµ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð½Ð° Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐµ", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼ Ð¼Ð°ÑˆÐ¸Ð½Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ (ML System Design)", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÐµÑÑ‚ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð³Ð¾ ÑÐ·Ñ‹ÐºÐ°", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð˜Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð°Ð³ÐµÐ½Ñ‚Ñ‹ Ð¸ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ðµ ÑÐ·Ñ‹ÐºÐ¾Ð²Ñ‹Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð’Ð¾Ñ€ÐºÑˆÐ¾Ð¿ Ð¿Ð¾ Ð¿Ñ€Ð¸ÐºÐ»Ð°Ð´Ð½Ð¾Ð¼Ñƒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÑŽ ÑÐ·Ñ‹ÐºÐ¾Ð²Ñ‹Ñ… Ð¸ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ñ… Ð¼Ð¾Ð´ÐµÐ»ÐµÐ¹", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐžÑÐ½Ð¾Ð²Ñ‹ Ð¿Ð¾ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ñ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸ ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€Ð½Ð¾Ð³Ð¾ Ð·Ñ€ÐµÐ½Ð¸Ñ", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2}
                    ]
                },
                "Ð‘Ð»Ð¾Ðº 2. ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ°": {
                    "Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ð·Ðµ": 42,
                    "Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ñ‡Ð°Ñ": 1512,
                    "Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸": [
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ, Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ (Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð½Ð¾-Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ) Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°", "Ð·Ðµ": 9, "Ñ‡Ð°Ñ": 324, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ, Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ (Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð½Ð¾-Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ) Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°", "Ð·Ðµ": 9, "Ñ‡Ð°Ñ": 324, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ, Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ (Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð½Ð¾-Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ) Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°", "Ð·Ðµ": 9, "Ñ‡Ð°Ñ": 324, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 3},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ, Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ (Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð½Ð¾-Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ) Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°", "Ð·Ðµ": 9, "Ñ‡Ð°Ñ": 324, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 4},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ, Ð¿Ñ€ÐµÐ´Ð´Ð¸Ð¿Ð»Ð¾Ð¼Ð½Ð°Ñ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 4}
                    ]
                },
                "Ð‘Ð»Ð¾Ðº 3. Ð“Ð˜Ð": {
                    "Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ð·Ðµ": 6,
                    "Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ñ‡Ð°Ñ": 216,
                    "Ð°Ñ‚Ñ‚ÐµÑÑ‚Ð°Ñ†Ð¸Ñ": [
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Ðº Ð·Ð°Ñ‰Ð¸Ñ‚Ðµ Ð¸ Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð’ÐšÐ ", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 4}
                    ]
                }
            }
        }
        
        # Ð”Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· PDF "Ð˜ÑÐºÑƒÑÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚"
        ai_curriculum = {
            "Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð˜ÑÐºÑƒÑÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚",
            "Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ": "ÐœÐ°Ð³Ð¸ÑÑ‚ÐµÑ€ÑÐºÐ°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð¿Ð¾ Ð¸ÑÐºÑƒÑÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð¼Ñƒ Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚Ñƒ",
            "Ð±Ð»Ð¾ÐºÐ¸": {
                "Ð‘Ð»Ð¾Ðº 1. ÐœÐ¾Ð´ÑƒÐ»Ð¸ (Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹)": {
                    "Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ð·Ðµ": 60,
                    "Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ñ‡Ð°Ñ": 2160,
                    "Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ_Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹_1_ÑÐµÐ¼ÐµÑÑ‚Ñ€": [
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð’Ð¾Ñ€ÐºÑˆÐ¾Ð¿ Ð¿Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸ÑŽ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð° Ð½Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… / Data Product Development Workshop", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1}
                    ],
                    "Ð²Ñ‹Ð±Ð¾Ñ€Ð½Ñ‹Ðµ_Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹_1_ÑÐµÐ¼ÐµÑÑ‚Ñ€": [
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ° Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð¼Ð°ÑˆÐ¸Ð½Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐÐ»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ñ‹ Ð¸ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð²ÐµÐ±-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹ (Python Backend)", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð½Ð° Ð¡++", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð’Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð² ÐœÐž (Python) Ð¸ ÐŸÑ€Ð¾Ð´Ð²Ð¸Ð½ÑƒÑ‚Ð¾Ðµ ÐœÐž (Python)", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ ÐµÑÑ‚ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð³Ð¾ ÑÐ·Ñ‹ÐºÐ°", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð¼Ð°ÑˆÐ¸Ð½Ð½Ð¾Ðµ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¸ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼ (Ð¿Ñ€Ð¾Ð´Ð²Ð¸Ð½ÑƒÑ‚Ñ‹Ð¹ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ)", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐžÑÐ½Ð¾Ð²Ñ‹ Ð³Ð»ÑƒÐ±Ð¾ÐºÐ¾Ð³Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð´Ð²Ð¸Ð½ÑƒÑ‚Ð¾Ðµ ÐœÐž (Python) Ð¸ Ð“Ð»ÑƒÐ±Ð¾ÐºÐ¾Ðµ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð’Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð² Ð±Ð¾Ð»ÑŒÑˆÐ¸Ðµ ÑÐ·Ñ‹ÐºÐ¾Ð²Ñ‹Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸ (LLM)", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐ¸ÑÑ‚ÐµÐ¼ Ð¼Ð°ÑˆÐ¸Ð½Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ (ML System Design)", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾ÐµÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¼Ð¸ÐºÑ€Ð¾ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ Ð’Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð² ÐœÐž (Python)", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð’Ñ‹Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¸Ñ Ð½Ð° Ð³Ñ€Ð°Ñ„Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ñ€Ð°Ñ… (GPU)", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "UNIX/Linux ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð˜Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ data-driven Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¸ Ð¾Ñ€ÐºÐµÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¹", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð´ÑƒÐºÑ‚Ð¾Ð²Ñ‹Ðµ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð“Ñ€Ð°Ñ„Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑ‹", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ñ… Ð°Ð³ÐµÐ½Ñ‚Ð¾Ð²", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´Ð½Ð¾Ð¹ Ð°Ð½Ð°Ð»Ð¸Ð· Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ñ€ÑÐ´Ð¾Ð²", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ñ†ÐµÑÑÑ‹ Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð»Ð¾Ð³Ð¸Ð¸ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ð¹ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ð˜Ð˜", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð˜Ð½Ð¶Ð¸Ð½Ð¸Ñ€Ð¸Ð½Ð³ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð‘Ð¸Ð·Ð½ÐµÑ-Ð°Ð½Ð°Ð»Ð¸Ñ‚Ð¸ÐºÐ° Ð´Ð»Ñ Ð¸Ð½Ð¶ÐµÐ½ÐµÑ€Ð¾Ð²", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ° Ð´Ð»Ñ Ð¼Ð°ÑˆÐ¸Ð½Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¸ Ð°Ð½Ð°Ð»Ð¸Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð¯Ð·Ñ‹ÐºÐ¸ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐžÑÐ½Ð¾Ð²Ñ‹ Ð¼Ð°ÑˆÐ¸Ð½Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð˜Ð½Ð¶ÐµÐ½ÐµÑ€Ð½Ñ‹Ðµ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸ Ð² ML Ð¸ Ð°Ð½Ð°Ð»Ð¸Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ€Ð°Ð·Ð´ÐµÐ»Ñ‹ Ð¼Ð°ÑˆÐ¸Ð½Ð½Ð¾Ð³Ð¾ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "Ð‘Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…", "Ð·Ðµ": 3, "Ñ‡Ð°Ñ": 108, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1}
                    ]
                },
                "Ð‘Ð»Ð¾Ðº 2. ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ°": {
                    "Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ð·Ðµ": 54,
                    "Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ñ‡Ð°Ñ": 1944,
                    "Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸": [
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾ÐµÐºÑ‚Ð½Ð°Ñ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°", "Ð·Ðµ": 12, "Ñ‡Ð°Ñ": 432, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 1},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾ÐµÐºÑ‚Ð½Ð°Ñ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°", "Ð·Ðµ": 12, "Ñ‡Ð°Ñ": 432, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐÐ°ÑƒÑ‡Ð½Ð¾-Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ°Ñ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°", "Ð·Ðµ": 12, "Ñ‡Ð°Ñ": 432, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 2},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð½Ð¾-Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°", "Ð·Ðµ": 12, "Ñ‡Ð°Ñ": 432, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 3},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ, Ð½Ð°ÑƒÑ‡Ð½Ð¾-Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ°Ñ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°", "Ð·Ðµ": 12, "Ñ‡Ð°Ñ": 432, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 3},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾ÐµÐºÑ‚Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°", "Ð·Ðµ": 12, "Ñ‡Ð°Ñ": 432, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 4},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐÐ°ÑƒÑ‡Ð½Ð¾-Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°", "Ð·Ðµ": 12, "Ñ‡Ð°Ñ": 432, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 4},
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ, Ð¿Ñ€ÐµÐ´Ð´Ð¸Ð¿Ð»Ð¾Ð¼Ð½Ð°Ñ Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 4}
                    ]
                },
                "Ð‘Ð»Ð¾Ðº 3. Ð“Ð˜Ð": {
                    "Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ð·Ðµ": 6,
                    "Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ñ‡Ð°Ñ": 216,
                    "Ð°Ñ‚Ñ‚ÐµÑÑ‚Ð°Ñ†Ð¸Ñ": [
                        {"Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ": "ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Ðº Ð·Ð°Ñ‰Ð¸Ñ‚Ðµ Ð¸ Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð’ÐšÐ ", "Ð·Ðµ": 6, "Ñ‡Ð°Ñ": 216, "ÑÐµÐ¼ÐµÑÑ‚Ñ€": 4}
                    ]
                }
            }
        }
        
        self.curriculum_data = {
            "ai_product": ai_product_curriculum,
            "ai": ai_curriculum
        }
        
    
    def _load_json_program_data(self):
        """Load additional program data from JSON files"""
        json_files = [
            ("ai", "itmo_program_data_ai.json"),
            ("ai_product", "itmo_program_data_ai_product.json")
        ]
        
        print(f"DEBUG: Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° JSON Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð¸Ð· Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸: {self.pdf_dir}")
        
        for program_key, filename in json_files:
            try:
                filepath = os.path.join(self.pdf_dir, filename)
                print(f"DEBUG: ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ñ„Ð°Ð¹Ð»: {filepath}")
                
                if os.path.exists(filepath):
                    print(f"DEBUG: Ð¤Ð°Ð¹Ð» {filename} Ð½Ð°Ð¹Ð´ÐµÐ½, Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼...")
                    with open(filepath, 'r', encoding='utf-8') as f:
                        self.json_program_data[program_key] = json.load(f)
                    print(f"DEBUG: Ð¤Ð°Ð¹Ð» {filename} ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ {program_key}")
                else:
                    print(f"DEBUG: Ð¤Ð°Ð¹Ð» {filename} ÐÐ• Ð½Ð°Ð¹Ð´ÐµÐ½ Ð¿Ð¾ Ð¿ÑƒÑ‚Ð¸ {filepath}")
                    
            except Exception as e:
                print(f"ERROR: ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ {filename}: {e}")
        
        print(f"DEBUG: Ð—Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð¾ JSON Ñ„Ð°Ð¹Ð»Ð¾Ð²: {len(self.json_program_data)}")
        print(f"DEBUG: ÐšÐ»ÑŽÑ‡Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð½Ñ‹Ñ… Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼: {list(self.json_program_data.keys())}")
    
    def get_curriculum_text(self) -> str:
        """Get formatted curriculum text for AI model"""
        print(f"DEBUG get_curriculum_text: Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ JSON Ð´Ð°Ð½Ð½Ñ‹Ðµ: {list(self.json_program_data.keys())}")
        
        text = "Ð£Ð§Ð•Ð‘ÐÐ«Ð• ÐŸÐ›ÐÐÐ« Ð˜ Ð˜ÐÐ¤ÐžÐ ÐœÐÐ¦Ð˜Ð¯ Ðž ÐŸÐ ÐžÐ“Ð ÐÐœÐœÐÐ¥ Ð˜Ð¢ÐœÐž:\n\n"
        
        for program_key, program_data in self.curriculum_data.items():
            text += f"=== {program_data['Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ']} ===\n"
            text += f"ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ: {program_data['Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ']}\n\n"
            
            print(f"DEBUG: ÐžÐ±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÐ¼ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ {program_key}")
            print(f"DEBUG: JSON Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð»Ñ {program_key} Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹: {program_key in self.json_program_data}")
            
            # Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ ÐŸÐžÐ›ÐÐ£Ð® Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¸Ð· JSON Ñ„Ð°Ð¹Ð»Ð¾Ð²
            if program_key in self.json_program_data:
                print(f"DEBUG: Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ JSON Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ {program_key}")
                json_data = self.json_program_data[program_key]
                
                text += f"ðŸ“‹ ÐŸÐžÐ›ÐÐÐ¯ Ð˜ÐÐ¤ÐžÐ ÐœÐÐ¦Ð˜Ð¯ Ðž ÐŸÐ ÐžÐ“Ð ÐÐœÐœÐ• Ð˜Ð— JSON:\n"
                text += f"â€¢ ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹: {json_data.get('program_name', 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾')}\n"
                text += f"â€¢ URL ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹: {json_data.get('page_url', 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾')}\n"
                
                # Ð¤Ð°ÐºÑƒÐ»ÑŒÑ‚ÐµÑ‚
                if json_data.get('faculty'):
                    faculty = json_data['faculty']
                    text += f"â€¢ Ð¤Ð°ÐºÑƒÐ»ÑŒÑ‚ÐµÑ‚: {faculty.get('name', 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾')}\n"
                    text += f"  - Ð¡ÑÑ‹Ð»ÐºÐ°: {faculty.get('link', 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾')}\n"
                
                # ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹
                if json_data.get('description'):
                    desc = json_data['description']
                    text += f"â€¢ ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ: {desc.get('short', 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾')}\n"
                    text += f"â€¢ ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ: {desc.get('full', 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾')}\n"
                
                # ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹
                if json_data.get('main_parameters'):
                    params = json_data['main_parameters']
                    text += f"â€¢ Ð¤Ð¾Ñ€Ð¼Ð° Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ: {params.get('study_format', 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾')}\n"
                    text += f"â€¢ Ð”Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ: {params.get('duration', 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾')}\n"
                    text += f"â€¢ Ð¯Ð·Ñ‹Ðº Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ: {params.get('language', 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾')}\n"
                    text += f"â€¢ Ð¡Ñ‚Ð¾Ð¸Ð¼Ð¾ÑÑ‚ÑŒ: {params.get('tuition_fee_rub_per_year', 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾')} Ñ€ÑƒÐ±/Ð³Ð¾Ð´\n"
                    text += f"â€¢ Ð“Ð¾Ñ. Ð°ÐºÐºÑ€ÐµÐ´Ð¸Ñ‚Ð°Ñ†Ð¸Ñ: {'Ð”Ð°' if params.get('state_accreditation') else 'ÐÐµÑ‚'}\n"
                    text += f"â€¢ Ð’Ð¾ÐµÐ½Ð½Ð°Ñ ÐºÐ°Ñ„ÐµÐ´Ñ€Ð°: {'Ð”Ð°' if params.get('military_training_center') else 'ÐÐµÑ‚'}\n"
                    text += f"â€¢ Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸: {params.get('additional_options', 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾')}\n"
                
                # ÐšÐ°Ñ€ÑŒÐµÑ€Ð½Ñ‹Ðµ Ð¿ÐµÑ€ÑÐ¿ÐµÐºÑ‚Ð¸Ð²Ñ‹
                if json_data.get('career_prospects'):
                    text += f"â€¢ ÐšÐ°Ñ€ÑŒÐµÑ€Ð½Ñ‹Ðµ Ð¿ÐµÑ€ÑÐ¿ÐµÐºÑ‚Ð¸Ð²Ñ‹: {json_data['career_prospects']}\n"
                
                # ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹
                if json_data.get('program_manager'):
                    manager = json_data['program_manager']
                    text += f"â€¢ ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹: {manager.get('name', '')} {manager.get('middle_name', '')}\n"
                    if manager.get('degree'):
                        text += f"  - Ð¡Ñ‚ÐµÐ¿ÐµÐ½ÑŒ: {manager['degree']}\n"
                    if manager.get('rank'):
                        text += f"  - Ð—Ð²Ð°Ð½Ð¸Ðµ: {manager['rank']}\n"
                    if manager.get('positions'):
                        text += f"  - Ð”Ð¾Ð»Ð¶Ð½Ð¾ÑÑ‚Ð¸:\n"
                        for pos in manager['positions']:
                            text += f"    * {pos.get('position_name', '')} - {pos.get('department_name', '')}\n"
                    if manager.get('contacts'):
                        contacts = manager['contacts']
                        text += f"  - Email: {contacts.get('email', 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½')}\n"
                        text += f"  - Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½: {contacts.get('phone', 'ÐÐµ ÑƒÐºÐ°Ð·Ð°Ð½')}\n"
                
                # ÐŸÑ€ÐµÐ¿Ð¾Ð´Ð°Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ð¹ ÑÐ¾ÑÑ‚Ð°Ð²
                if json_data.get('teaching_staff'):
                    text += f"â€¢ ÐŸÑ€ÐµÐ¿Ð¾Ð´Ð°Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ð¹ ÑÐ¾ÑÑ‚Ð°Ð² ({len(json_data['teaching_staff'])} Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº):\n"
                    for i, teacher in enumerate(json_data['teaching_staff'], 1):
                        name = f"{teacher.get('name', '')} {teacher.get('middle_name', '')}"
                        text += f"  {i}. {name.strip()}"
                        if teacher.get('degree'):
                            text += f" ({teacher['degree']})"
                        if teacher.get('rank'):
                            text += f", {teacher['rank']}"
                        text += "\n"
                        
                        # Ð”Ð¾Ð»Ð¶Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ñ€ÐµÐ¿Ð¾Ð´Ð°Ð²Ð°Ñ‚ÐµÐ»Ñ
                        if teacher.get('positions'):
                            for position in teacher['positions']:
                                if position.get('position_name'):
                                    text += f"     - {position['position_name']}"
                                    if position.get('department_name'):
                                        text += f" ({position['department_name']})"
                                    text += "\n"
                
                # ÐÐ°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ¸
                if json_data.get('fields_of_study'):
                    text += f"â€¢ ÐÐ°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ¸ ({len(json_data['fields_of_study'])} Ð½Ð°Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ð¹):\n"
                    for field in json_data['fields_of_study']:
                        text += f"  - {field.get('code', '')} {field.get('name', '')}\n"
                        if field.get('admission_quotas'):
                            quotas = field['admission_quotas']
                            text += f"    ÐšÐ²Ð¾Ñ‚Ñ‹ Ð¿Ñ€Ð¸ÐµÐ¼Ð°: Ð‘ÑŽÐ´Ð¶ÐµÑ‚ - {quotas.get('budget_funded', 0)} Ð¼ÐµÑÑ‚, "
                            text += f"ÐšÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚ - {quotas.get('fee_based', 0)} Ð¼ÐµÑÑ‚, "
                            text += f"Ð¦ÐµÐ»ÐµÐ²Ñ‹Ðµ - {quotas.get('targeted', 0)} Ð¼ÐµÑÑ‚\n"
                
                # Ð¡Ð¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐµÑ‚Ð¸ Ð¸ ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹
                if json_data.get('social_media'):
                    social = json_data['social_media']
                    text += f"â€¢ Ð¡Ð¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐµÑ‚Ð¸ Ð¸ ÑÐ°Ð¹Ñ‚Ñ‹:\n"
                    if social.get('site'):
                        text += f"  - ÐžÑ„Ð¸Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐ°Ð¹Ñ‚: {social['site']}\n"
                    if social.get('tg'):
                        text += f"  - Telegram ÐºÐ°Ð½Ð°Ð»: {social['tg']}\n"
                    if social.get('vk'):
                        text += f"  - VKontakte: {social['vk']}\n"
                
                # ÐŸÐ°Ñ€Ñ‚Ð½ÐµÑ€Ñ‹
                if json_data.get('partners'):
                    text += f"â€¢ ÐŸÐ°Ñ€Ñ‚Ð½ÐµÑ€Ñ‹ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñ‹ ({len(json_data['partners'])} Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ð¾Ð²):\n"
                    for partner in json_data['partners']:
                        # Ð˜Ð·Ð²Ð»ÐµÐºÐ°ÐµÐ¼ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ð° Ð¸Ð· URL Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ
                        partner_name = partner.split('/')[-1].replace('.png', '').replace('.jpg', '').upper()
                        text += f"  - {partner_name}\n"
                
                text += "\n"
            
            # Ð£Ñ‡ÐµÐ±Ð½Ñ‹Ð¹ Ð¿Ð»Ð°Ð½
            for block_name, block_data in program_data['Ð±Ð»Ð¾ÐºÐ¸'].items():
                text += f"--- {block_name} ---\n"
                
                if 'Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ð·Ðµ' in block_data:
                    text += f"Ð¢Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ: {block_data['Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ð·Ðµ']} Ð·.Ðµ. ({block_data['Ñ‚Ñ€ÑƒÐ´Ð¾ÐµÐ¼ÐºÐ¾ÑÑ‚ÑŒ_Ñ‡Ð°Ñ']} Ñ‡Ð°Ñ.)\n"
                
                # ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹
                if 'Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ_Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹_1_ÑÐµÐ¼ÐµÑÑ‚Ñ€' in block_data:
                    text += "\nÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹ (1 ÑÐµÐ¼ÐµÑÑ‚Ñ€):\n"
                    for disc in block_data['Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ_Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹_1_ÑÐµÐ¼ÐµÑÑ‚Ñ€']:
                        text += f"- {disc['Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ']} ({disc['Ð·Ðµ']} Ð·.Ðµ., {disc['Ñ‡Ð°Ñ']} Ñ‡Ð°Ñ.)\n"
                
                # Ð’Ñ‹Ð±Ð¾Ñ€Ð½Ñ‹Ðµ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹ Ð¿Ð¾ ÑÐµÐ¼ÐµÑÑ‚Ñ€Ð°Ð¼
                for sem in [1, 2, 3, 4]:
                    key = f'Ð²Ñ‹Ð±Ð¾Ñ€Ð½Ñ‹Ðµ_Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹_{sem}_ÑÐµÐ¼ÐµÑÑ‚Ñ€'
                    if key in block_data:
                        text += f"\nÐ’Ñ‹Ð±Ð¾Ñ€Ð½Ñ‹Ðµ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹ ({sem} ÑÐµÐ¼ÐµÑÑ‚Ñ€):\n"
                        for disc in block_data[key]:
                            text += f"- {disc['Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ']} ({disc['Ð·Ðµ']} Ð·.Ðµ., {disc['Ñ‡Ð°Ñ']} Ñ‡Ð°Ñ.)\n"
                
                # ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ¸
                if 'Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸' in block_data:
                    text += "\nÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ¸:\n"
                    for pract in block_data['Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸']:
                        text += f"- {pract['Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ']} ({pract['Ð·Ðµ']} Ð·.Ðµ., {pract['Ñ‡Ð°Ñ']} Ñ‡Ð°Ñ., {pract['ÑÐµÐ¼ÐµÑÑ‚Ñ€']} ÑÐµÐ¼ÐµÑÑ‚Ñ€)\n"
                
                # ÐÑ‚Ñ‚ÐµÑÑ‚Ð°Ñ†Ð¸Ñ
                if 'Ð°Ñ‚Ñ‚ÐµÑÑ‚Ð°Ñ†Ð¸Ñ' in block_data:
                    text += "\nÐ“Ð¾ÑÑƒÐ´Ð°Ñ€ÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ Ð¸Ñ‚Ð¾Ð³Ð¾Ð²Ð°Ñ Ð°Ñ‚Ñ‚ÐµÑÑ‚Ð°Ñ†Ð¸Ñ:\n"
                    for att in block_data['Ð°Ñ‚Ñ‚ÐµÑÑ‚Ð°Ñ†Ð¸Ñ']:
                        text += f"- {att['Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ']} ({att['Ð·Ðµ']} Ð·.Ðµ., {att['Ñ‡Ð°Ñ']} Ñ‡Ð°Ñ., {att['ÑÐµÐ¼ÐµÑÑ‚Ñ€']} ÑÐµÐ¼ÐµÑÑ‚Ñ€)\n"
                
                text += "\n"
            text += "\n" + "="*50 + "\n\n"
        
        return text
    
    def search_disciplines(self, query: str) -> List[Dict]:
        """Search for disciplines by query"""
        results = []
        query_lower = query.lower()
        
        for program_key, program_data in self.curriculum_data.items():
            program_name = program_data['Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ']
            
            for block_name, block_data in program_data['Ð±Ð»Ð¾ÐºÐ¸'].items():
                # ÐŸÐ¾Ð¸ÑÐº Ð² Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ð°Ñ…
                if 'Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ_Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹_1_ÑÐµÐ¼ÐµÑÑ‚Ñ€' in block_data:
                    for disc in block_data['Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ_Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹_1_ÑÐµÐ¼ÐµÑÑ‚Ñ€']:
                        if query_lower in disc['Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ'].lower():
                            results.append({
                                'Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°': program_name,
                                'Ð±Ð»Ð¾Ðº': block_name,
                                'Ñ‚Ð¸Ð¿': 'ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ð°',
                                'Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ': disc['Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ'],
                                'Ð·Ðµ': disc['Ð·Ðµ'],
                                'Ñ‡Ð°Ñ': disc['Ñ‡Ð°Ñ'],
                                'ÑÐµÐ¼ÐµÑÑ‚Ñ€': disc['ÑÐµÐ¼ÐµÑÑ‚Ñ€']
                            })
                
                # ÐŸÐ¾Ð¸ÑÐº Ð² Ð²Ñ‹Ð±Ð¾Ñ€Ð½Ñ‹Ñ… Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ð°Ñ…
                for sem in [1, 2, 3, 4]:
                    key = f'Ð²Ñ‹Ð±Ð¾Ñ€Ð½Ñ‹Ðµ_Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ñ‹_{sem}_ÑÐµÐ¼ÐµÑÑ‚Ñ€'
                    if key in block_data:
                        for disc in block_data[key]:
                            if query_lower in disc['Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ'].lower():
                                results.append({
                                    'Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°': program_name,
                                    'Ð±Ð»Ð¾Ðº': block_name,
                                    'Ñ‚Ð¸Ð¿': 'Ð’Ñ‹Ð±Ð¾Ñ€Ð½Ð°Ñ Ð´Ð¸ÑÑ†Ð¸Ð¿Ð»Ð¸Ð½Ð°',
                                    'Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ': disc['Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ'],
                                    'Ð·Ðµ': disc['Ð·Ðµ'],
                                    'Ñ‡Ð°Ñ': disc['Ñ‡Ð°Ñ'],
                                    'ÑÐµÐ¼ÐµÑÑ‚Ñ€': disc['ÑÐµÐ¼ÐµÑÑ‚Ñ€']
                                })
                
                # ÐŸÐ¾Ð¸ÑÐº Ð² Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°Ñ…
                if 'Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸' in block_data:
                    for pract in block_data['Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ¸']:
                        if query_lower in pract['Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ'].lower():
                            results.append({
                                'Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°': program_name,
                                'Ð±Ð»Ð¾Ðº': block_name,
                                'Ñ‚Ð¸Ð¿': 'ÐŸÑ€Ð°ÐºÑ‚Ð¸ÐºÐ°',
                                'Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ': pract['Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ'],
                                'Ð·Ðµ': pract['Ð·Ðµ'],
                                'Ñ‡Ð°Ñ': pract['Ñ‡Ð°Ñ'],
                                'ÑÐµÐ¼ÐµÑÑ‚Ñ€': pract['ÑÐµÐ¼ÐµÑÑ‚Ñ€']
                            })
        
        return results
    
    def get_program_info(self, program_name: str) -> Optional[Dict]:
        """Get information about specific program"""
        for program_key, program_data in self.curriculum_data.items():
            if program_name.lower() in program_data['Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ'].lower():
                return program_data
        return None
    
    def save_to_json(self, filename: str):
        """Save curriculum data to JSON file"""
        with open(filename, 'w', encoding='utf-8') as f:
            json.dump(self.curriculum_data, f, ensure_ascii=False, indent=2)